[gd_scene format=3]

[ext_resource type="Script" path="res://scripts/systems/BattleSystem.gd" id="1"]
[ext_resource type="Script" path="res://scripts/ui/DialogueBox.gd" id="2"]
[ext_resource type="PackedScene" path="res://scenes/ui/DialogueBox.tscn" id="3"]
[ext_resource type="Script" path="res://scripts/ui/CutsceneOverlay.gd" id="4"]
[ext_resource type="Script" path="res://scripts/ui/BattleUI.gd" id="5"]

[node name="BattleScene" type="Node2D"]

[node name="Background" type="Sprite2D" parent="."]

[node name="BattleSystem" type="Node" parent="."]
script = ExtResource(1)

[node name="PlayerSide" type="Node2D" parent="."]

[node name="ActiveFish" type="Sprite2D" parent="PlayerSide"]

[node name="AnimationPlayer" type="AnimationPlayer" parent="PlayerSide"]

[node name="FishStats" type="Control" parent="PlayerSide"]

[node name="NameLabel" type="Label" parent="PlayerSide/FishStats"]

[node name="HPBar" type="ProgressBar" parent="PlayerSide/FishStats"]

[node name="EnemySide" type="Node2D" parent="."]

[node name="EnemySprite" type="Sprite2D" parent="EnemySide"]

[node name="AnimationPlayer" type="AnimationPlayer" parent="EnemySide"]

[node name="EnemyStats" type="Control" parent="EnemySide"]

[node name="NameLabel" type="Label" parent="EnemySide/EnemyStats"]

[node name="HPBar" type="ProgressBar" parent="EnemySide/EnemyStats"]

[node name="BattleUI" type="CanvasLayer" parent="."]
script = ExtResource(5)

[node name="DialogueBox" parent="BattleUI" instance=ExtResource(3)]

[node name="CutsceneOverlay" type="ColorRect" parent="BattleUI"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 0.0
offset_top = 0.0
offset_right = 0.0
offset_bottom = 0.0
color = Color(0, 0, 0, 1)
script = ExtResource(4)

[node name="ActionMenu" type="VBoxContainer" parent="BattleUI"]
theme_override_constants/separation = 6

[node name="AttackButton" type="Button" parent="BattleUI/ActionMenu"]
text = "Attack"

[node name="ItemButton" type="Button" parent="BattleUI/ActionMenu"]
text = "Item"

[node name="ApostleButton" type="Button" parent="BattleUI/ActionMenu"]
text = "Apostle"

[node name="MiracleButton" type="Button" parent="BattleUI/ActionMenu"]
text = "Miracle"

[node name="RunButton" type="Button" parent="BattleUI/ActionMenu"]
text = "Run"

[node name="MoveMenu" type="GridContainer" parent="BattleUI"]
visible = false

[node name="ItemMenu" type="VBoxContainer" parent="BattleUI"]
theme_override_constants/separation = 6
visible = false

[node name="EffectBackground" type="PanelContainer" parent="BattleUI"]
offset_left = 12.0
offset_top = 12.0
offset_right = 340.0
offset_bottom = 130.0

[node name="EffectPanel" type="VBoxContainer" parent="BattleUI/EffectBackground"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 6.0
offset_top = 6.0
offset_right = -6.0
offset_bottom = -6.0
theme_override_constants/separation = 4

[node name="PlayerEffects" type="RichTextLabel" parent="BattleUI/EffectBackground/EffectPanel"]
bbcode_enabled = true
text = "Player: none"

[node name="PlayerStatusIcons" type="HBoxContainer" parent="BattleUI/EffectBackground/EffectPanel"]
theme_override_constants/separation = 4

[node name="EnemyEffects" type="RichTextLabel" parent="BattleUI/EffectBackground/EffectPanel"]
bbcode_enabled = true
text = "Enemy: none"

[node name="EnemyStatusIcons" type="HBoxContainer" parent="BattleUI/EffectBackground/EffectPanel"]
theme_override_constants/separation = 4
